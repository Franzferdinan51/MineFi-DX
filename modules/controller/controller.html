<!DOCTYPE html>
<html lang="en">
<head>
	<title>KDX</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<link rel="stylesheet" type="text/css" href="/resources/extern/fonts/fontawesome/css/all.min.css" />
	<link rel="stylesheet" type="text/css" href="/node_modules/@aspectron/flow-ux/flow-ux.css" />
	<link rel="stylesheet" type="text/css" href="/resources/styles/kdx.css">
	<script type="importmap">
		{
			"imports" : {
				"lit-html" : "/node_modules/lit-html/lit-html.js",
				"lit-html/lit-html.js" : "/node_modules/lit-html/lit-html.js",
				"lit-html/lib/shady-render.js" : "/node_modules/lit-html/lib/shady-render.js",
				"lit-element" : "/node_modules/lit-element/lit-element.js",
				"lit-html/directives/if-defined.js":"/node_modules/lit-html/directives/if-defined.js",
				"lit-html/directives/repeat.js": "/node_modules/lit-html/directives/repeat.js"
			}
		}
	</script>
	<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>

	<script type="text/javascript" src="/resources/extern/ace/src/ace.js" charset="utf-8"></script>
	<script type="text/javascript" src="/resources/extern/ace/src/mode-html.js" charset="utf-8"></script>
	<script type="text/javascript" src="/resources/extern/ace/src/mode-javascript.js" charset="utf-8"></script>
	<script type="text/javascript">
		var flowConfig = {
			theme:{
				iconPath:'/resources/extern/fonts/fontawesome/sprites/',
				iconFile:'light',
				icons:{
					language:'icons:language'
				}
			}
		}
	</script>

	<script type="module" src="/node_modules/@aspectron/flow-ux/flow-ux.js"></script>
	<script type="module" src="./test-ui.js"></script>

	<!-- include non-module-type d3 -->
	<script src="/resources/extern/d3/d3.js"></script>
	<!-- include non-module-type jquery -->
	<script src="/resources/extern/scripts/jquery-3.1.1.normal.js"></script>
	<!-- install xterm, xterm-addon-fit, xterm-addon-web-links node-modules -->
	<script type="module" src="/node_modules/@aspectron/flow-ux/src/flow-terminal.js"></script>
	<script type="text/javascript" src="/resources/rpc.js"></script>
</head>
<body class="ui-loading">
	<flow-caption-bar 
		__logo="/resources/images/k-subtract.svg"
		logo="/resources/images/kaspa-logo-light-bg.png" 
		xicon="fal fa-chart-network">KDX</flow-caption-bar>
	<tab-content for="home">
		<!--
		<flow-checkbox-styled></flow-checkbox-styled>
		<flow-textarea maxlength="10">hello</flow-textarea>
		-->
		<div id="test-ui"></div>
		<flow-form-control id="applications" icon="fal:fire" no-help>
			<flow-i18n caption>Applications</flow-i18n>
			<div id="application-list">
				<!-- div class="application"></div -->
			</div>
		</flow-form-control>
		<flow-form-control icon="fal:database" no-help>
			<flow-i18n caption>Services</flow-i18n>
			<div id='process-info-table' class="task-info-container">
			</div>
		</flow-form-control>
		<div id='kaspa-resources'>

			<flow-expandable>
				<div slot="title" is="i18n-div" caption>KASPA RESOURCES</div>
				
				<ul style="font-size: 12px;">
					<li><flow-shell-link href="https://docs.kas.pa/kaspa/about-kaspa/get-started"><flow-i18n>Documentation</flow-i18n></flow-shell-link></li>
					<li><flow-shell-link href="https://github.com/kaspanet/"><flow-i18n>GitHub</flow-i18n></flow-shell-link></li>
					<li><flow-shell-link href="https://discord.gg/WmGhhzk"><flow-i18n>Discord Chat</flow-i18n></flow-shell-link></li>
				</ul>
				<!--h4 slot="info" class="title">Data Folder</h4>
				<p slot="info">
					Data Folder location is used for storage by all KDX modules. 
					In default configuration this includes Kaspad blockchain data and Kasparov API database.
					This location also contains process log files.
				</p-->
			</flow-expandable>
		</div>
		<div id='license-info'>
			<flow-form-control icon="fal:copyright">
				<flow-i18n>KDX &amp; Kaspa Copyright (c) 2020 Kaspa Developers<br/>
				All Rights Reserved.</flow-i18n><br/>
			</flow-form-control>
			<flow-expandable no-info class="license-info" >
				
				<div slot="title" is="i18n-div" caption>LICENSE INFORMATION</div>

				<div style="xfont-family:'Open Sans'; font-weight:bold;font-size: 0.85rem;">

					<div id="license-text"></div>

				</div>

				<script>
					list = [
						['Kaspa','MIT','Copyright (c) 2020 Kaspa Developers'],
						['PostgreSQL','PostgreSQL',`Portions Copyright © 1996-2020, The PostgreSQL Global Development Group<br/>Portions Copyright © 1994, The Regents of the University of California`],
						['Mosquitto','EDL-V10 EPL-V10',`Copyright (c) 2007, Eclipse Foundation, Inc. and its licensors`],
						['Flow-ux','MIT',`Copyright (c) ASPECTRON Inc.`],
						['NWJS','MIT',`Copyright (c) 2015 四月橘林`],
						['Chromium','BSD', `Copyright (c) The Chromium Authors`]

						// ['Kaspa','MIT','Copyright (c) 2020 Kaspa Developers'],
						// ['Kaspa','MIT','Copyright (c) 2020 Kaspa Developers'],
					];
					document.getElementById('license-text').innerHTML = list.map((t) => {
						let [name, license, copy] = t;
						return `<project><name><flow-i18n>${name}</flow-i18n></name> <span class='license'><flow-i18n>LICENSE</flow-i18n>:</span><license><flow-i18n>${license}</flow-i18n></license><br/><copyright><flow-i18n>${copy}</flow-i18n></copyright></project>`;
					}).join('');
				</script>

			</flow-expandable>
			

		</div>

	</tab-content>
	<tab-content for="settings">
		<flow-form-control icon="fal:database">
			<flow-i18n caption>Data Folder</flow-i18n>
			<flow-folder-input slot="input" id="data-folder-input"></flow-folder-input>
			<div slot="input" class="slot-block data-folder-input-tools">
				<flow-btn class="reset-data-dir"><flow-i18n>Reset</flow-i18n></flow-btn>
				<flow-btn class="use-default-data-dir"><flow-i18n>Default</flow-i18n></flow-btn>
				<flow-btn class="apply-data-dir" primary><flow-i18n>Apply</flow-i18n></flow-btn>
			</div>
			
			<h4 slot="info" class="title"><flow-i18n>Data Folder</flow-i18n></h4>
			<p slot="info" is="i18n-p">
				Data Folder location is used for storage by all KDX modules. 
				In default configuration this includes Kaspad blockchain data and Kasparov API database.
				This location also contains process log files.
			</p>
		</flow-form-control>
		<flow-form-control icon="fal:palette">
			<flow-i18n caption>User Interface Color Theme</flow-i18n>
			<flow-checkbox id="settings-dark-theme" class="block"
				slot="input"><flow-i18n>Dark Theme</flow-i18n></flow-checkbox><br/>
			<flow-checkbox id="settings-invert-terminal" class="block advanced-tool"
				slot="input"><flow-i18n>Invert Terminal Color</flow-i18n></flow-checkbox>
		</flow-form-control>
		<flow-form-control icon="fal:tools">
			<flow-i18n caption>Turn ON/OFF advanced settings and process control</flow-i18n>
			<flow-checkbox id="settings-advanced" slot="input">
			<flow-i18n>Advanced</flow-i18n>
			</flow-checkbox>
			<h4 slot="info" class="title"><flow-i18n>Advanced mode</flow-i18n></h4>
			<p slot="info" is="i18n-p">
				Advanced mode allows you to manually configure, interact with and monitor KDX services.
			</p>
		</flow-form-control>
		<flow-form-control icon="fal:cog" class="advanced-tool">
			<flow-i18n caption>Service Control</flow-i18n>
			<flow-checkbox id="settings-run-in-bg" class="block advanced-tool"
				slot="input"><flow-i18n>Run in Background</flow-i18n></flow-checkbox>
				<h4 slot="info" class="title"><flow-i18n>Background Execution</flow-i18n></h4>
				<p slot="info" is="i18n-p">
					When enabled, KDX runs itself and it's services hidden in the background
					and becomes accessible via the menu bar (OSX &amp; Linux) or system tray menu (on Windows).
				</p>
			</flow-form-control>
		<flow-form-control id="settings-script" icon="fal:tasks">
			<flow-i18n caption>Service Configuration</flow-i18n>
			<div slot="input" class="settings-script">
				<div class="script-box"></div>
				<div class="tools">
					<flow-btn class="save-config"><flow-i18n>Apply</flow-i18n></flow-btn>
				</div>
			</div>
			<h4 slot="info" class="title"><flow-i18n>Service Configuration</flow-i18n></h4>
			<p slot="info" is="i18n-p">
				Configuration editor allows you to customize KDX environment. KDX configuration is represented in JSON
				by a list of application/service configuration objects. Each service configuration object is used 
				to start the corresponding service.
			</p>
	</flow-form-control>
	</tab-content>
	<tab-content for="console" data-active-display="flex" class="vertical-flex term">
		<flow-terminal id="kdx-console" class="x-terminal" background="#000" foreground="#FFF"></flow-terminal>
	</tab-content>
	<script type="module" src="/modules/controller/controller.js"></script>
</body>
</html>
